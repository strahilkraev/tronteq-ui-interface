<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<html>
  <head>
    <link rel="stylesheet" type="text/css" href="/basic_layout.css" />
    <style type="text/css"></style>
  </head>
  <script type="text/javascript" src="/basic_jscript.js"></script>
  <script type="text/javascript" src="/js/jquery-3.7.1.min.js"></script>

  <script type="text/javascript">
    $(document).ajaxError(function (event, request, settings) {
      var obj = JSON.parse(request.responseText);
      // Handle 401 - No active Session
      if (request.status === 401 || obj.error === "No active Session") {
        if (!(window.top.location.pathname === "/login.html")) {
          window.top.location.href = "/login.html";
        }
        return;
      }
      // Handle 403 - invalid rights
      if (request.status === 403 || obj.msg === "invalid rights") {
        if (!(window.top.location.pathname === "/login.html")) {
          window.top.location.href = "/login.html";
        }
        return;
      }
      // Handle 400 - Invalid command/Command failed
      if (request.status === 400) {
        if (obj.error) {
          ffunc(obj.error);
        }
        return;
      }
      // Handle other errors
      if (obj.msg) ffunc(obj.msg);
    });

    $(document).ready(function () {
      $(document).ajaxError(function (data, a1) {
        if (a1.responseJSON != undefined)
          $("#infoline").text(a1.responseJSON.msg);
      });
      $("button").click(function () {
        var ii = {
          service: "user",
          access: "get",
          command: "login",
          parameters: {
            user: $("#username").val(),
            password: $("#password").val(),
          },
        };
        $.post("/api", JSON.stringify(ii), function (data, status) {
          if (status == "success") {
            //window.top.location.href=  window.top.location.protocol + "//" + window.top.location.host + "/2/main.html";
            window.top.location.href = "/main.html";
          }
        });
      });
      $("#password").keypress(function (e) {
        if (e.which == 13) {
          $("button").click();
          return false;
        }
      });
    });
  </script>

  <body style="margin: 0px; height: 100%; font-family: Verdana">
    <div class="wrapper">
      <div class="element_top">
        <div class="element_top_pic">
          <img
            src="/Logo.png"
            style="max-width: 100%; max-height: 100%"
          /><img />
        </div>
        <div style="width: 100%; height: 30%"></div>
      </div>
      <div class="centerbox">
        <div class="vertcenter">
          <h2>ROQSTAR</h2>
          <h3>Managed Ethernet Switch</h3>
          <div class="inner">
            <table>
              <tr>
                <td>User:</td>
                <td><input type="text" id="username" maxlength="30" /></td>
              </tr>
              <tr>
                <td>Password:</td>
                <td><input type="password" id="password" maxlength="30" /></td>
              </tr>
              <tr>
                <td></td>
                <td><button type="submit" id="button">Login</button></td>
              </tr>
            </table>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
